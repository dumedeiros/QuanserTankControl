<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Getting data back from chart</title>
<link rel="stylesheet" href="../assets/ui/css/style.css" type="text/css" />
<script type="text/javascript" src="../assets/prettify/prettify.js"></script>
<link rel="stylesheet" type="text/css" href="../assets/prettify/prettify.css" />
<script type="text/javascript" src="../assets/ui/js/jquery.min.js" ></script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }

a.whtbtnhide, a.whtbtnshow, a.whtbtnhidenav , a.whtbtnshownav { border-bottom:none !important; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../assets/ui/js/whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whtopic.js"></script>
<script type="text/javascript" src="../assets/ui/js/lib.js"></script>
</head>

<body>
<!-- breadcrumb starts here -->
<div id="breadcrumb"></div>
<script type="text/javascript">
	document.write( addFCBreadcrumb( [ "Home|../Introduction/Overview.html", "FusionWidgets &amp; JavaScript|JS_Overview.html", "Getting data back from chart" ] ) );
</script>
<!-- breadcrumb ends here -->
<table width="98%" border="0" cellspacing="0" cellpadding="3" align="center">
  <tr>
    <td valign="top" class="pageHeader">Getting data back from chart</td>
  </tr>
  <tr>
    <td valign="top" class="text">
             <p class="highlightBlock"> FusionWidgets XT uses FusionCharts JavaScript Class that takes care of all the products of FusionCharts XT Suite including FusionWidgets XT.</p>
<p>FusionCharts JavaScript Class allows you to get data back from chart. Using API functions you can retrieve the chart data, along with all attributes or properties, in XML or JSON format. You can also retrieve the chart data in CSV format. </p>
      <p>Moreover, you can read all chart attributes from a chart. By &quot;chart attribute&quot;, we mean all the XML attributes or JSON properties which are passed through <span class="codeInline">&lt;chart&gt;</span> element in chart XML data or through <span class="codeInline">chart</span> property in chart's JSON data. </p>
      <p>In this page, we will learn how to:</p>
      <ul>
        <li><a href="#xmldata">Get chart data in XML format</a></li>
        <li><a href="#jsondata">Get chart data in JSON format</a></li>
        <li><a href="#csv">Get chart data in CSV format</a></li>
        <li><a href="#getchartattribute">Retrieve a chart attribute from chart </a></li>
        <li><a href="#rt">Retrieve data from real-time charts and gauges</a> </li>
      </ul>
      <p class="highlightBlock">Code examples discussed in this section are present in <span class="codeInline">Download Package</span> &gt; <span class="codeInline">Code</span> &gt; <span class="codeInline">JavaScript</span>  &gt; <span class="codeInline">Basics</span> folder.</p>
    </td>
  </tr>
  <tr>
    <td valign="top" class="header"><a name="xmldata"></a>Get XML data from chart </td>
  </tr>
  <tr>
    <td valign="top" class="text">
      <p>You can get chart XML data using FusionCharts JavaScript Class API. FusionCharts provides various functions as listed below to achieve this:</p>
      <ul>
        <li><span class="codeInline msg_handler"><a>getXMLData()</a> &raquo;</span><span class="msg_body veryLightYellowBg ">  This function can only be called on <a href="JS_ChartInstance.html#js">FusionCharts JavaScript Object</a>. </span></li>
        <li><span class="codeInline msg_handler "><a>getChartData( format )</a> &raquo; </span><span class="msg_body veryLightYellowBg "> This function takes  data-format (&quot;xml&quot; or &quot;json&quot;) of the data as parameter. This function can only be called on <a href="JS_ChartInstance.html#js">FusionCharts JavaScript Object</a>. </span></li>
        <li><span class="codeInline msg_handler"><a>getXML()</a> &raquo;</span><span class="veryLightYellowBg msg_body"> This legacy function can be called on both <a href="JS_ChartInstance.html#html">FusionCharts HTML Object</a> and <a href="JS_ChartInstance.html#js">FusionCharts JavaScript Object</a>. </span>This function is deprecated. </li>
      </ul>
      <p>Let's now see how these functions work in code:</p>
      				<p><strong><a name="html"></a>Get XML data from a chart using chart HTML Object </strong></p>
				      <pre class="code_container prettyprint lang-js">var chartReference = FusionCharts(&quot;myChartId&quot;); 
var chartXML = chartReference.getXMLData();</pre>

                  <p class="msg_handler"><a>Click here to see a complete implementation code sample &raquo;</a></p>
						<pre class="msg_body code_container prettyprint">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Update Chart data&lt;/title&gt;
    &lt;script type="text/javascript" src=&quot;../../Charts/FusionCharts.js&quot;&gt;
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&quot;chartContainer&quot;&gt;Chart will load here!&lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;&lt;!--

      var myChart = new FusionCharts(&quot;../../Charts/Pyramid.swf&quot;, &quot;myChartId&quot;, &quot;400&quot;, &quot;300&quot;, &quot;0&quot;, &quot;1&quot;);
      myChart.setXMLUrl(&quot;AugustData.xml&quot;);
      myChart.render(&quot;chartContainer&quot;);

		function showData(format)
		{
			var chartReference = FusionCharts( "myChartId" );
			alert(<strong>chartReference.getXMLData()</strong>);
		}
    // --&gt;
    &lt;/script&gt;

    &lt;input type=&quot;button&quot; onClick=&quot;<strong>showData</strong>('xml');&quot; value=&quot;Show XML Data&quot;&gt;
  &lt;/body&gt;
&lt;/html&gt;
						
	<p class="highlightBlock"><img src="Images/getxmldata.jpg" width="412" height="423" class="imageBorder" />
 <br /></p></pre>
  <p class="header" style="padding:3px;">Other functions</p>
 <p><strong><a name="getxmljs"></a>Get XML data from a chart using getXMLData() on FusionCharts JavaScript Object</strong></p>
                  <pre class="code_container prettyprint lang-js">var chartReference = FusionCharts.items[ &quot;myChartId&quot; ]; 
var chartXML = chartReference.getXMLData();</pre>
  <p class="text">See it <a href="../../Code/JavaScript/Basics/GettingDataBackFromChart/Get_XML_data_from_a_chart_using_getXMLData.html" target="_blank">live</a>!</p>     
<p><strong><a name="getchartdata"></a>Get XML from a chart using getChartData() function </strong><strong> on FusionCharts JavaScript Object</strong></p>
            <pre class="code_container prettyprint lang-js">var chartReference = FusionCharts(&quot;myChartId&quot;); 
var chartXML = chartReference.getChartData(&quot;xml&quot;);</pre>
<p class="text">See it <a href="../../Code/JavaScript/Basics/GettingDataBackFromChart/Get_XML_from_a_chart_using_getChartData.html" target="_blank">live</a>!</p>
            <p><strong><a name="getxml"></a>Get XML from a chart using getXML() function on FusionCharts HTML Object </strong></p>
            <pre class="code_container prettyprint lang-js">var chartReference = FusionCharts(&quot;myChartId&quot;); 
var chartXML = chartReference.getXML();</pre>
<p class="text">See it <a href="../../Code/JavaScript/Basics/GettingDataBackFromChart/Get_XML_from_a_chart_using_getXML.html" target="_blank">live</a>!</p>
      <p class="highlightBlock">The function <span class="codeInline">getXML()</span> is deprecated. </p>
    </td>
  </tr>
  <tr>
    <td valign="top" class="header"><a name="jsondata"></a>Get JSON data from chart </td>
  </tr>
  <tr>
    <td valign="top" class="text">
      <p>You can get chart JSON data using FusionCharts JavaScript Class API. FusionCharts provides various functions as listed below to achieve this:</p>
      <ul>
        <li><span class="codeInline msg_handler"><a>getJSONData()</a> &raquo;</span><span class="msg_body veryLightYellowBg "> This function can only be called on <a href="JS_ChartInstance.html#js">FusionCharts JavaScript Object</a>. </span></li>
        <li><span class="codeInline msg_handler "><a>getChartData( format )</a> &raquo; </span><span class="msg_body veryLightYellowBg "> This function takes  data-format (&quot;xml&quot; or &quot;json&quot;) of the data as parameter. This function can only be called on <a href="JS_ChartInstance.html#js">FusionCharts JavaScript Object</a>. </span></li>
      </ul>
      <p>Let's now see how these functions work in code:</p>
      <p><strong><a name="getjsondata"></a>Get JSON data from a chart using getJSONData() function </strong></p>
      <pre class="code_container prettyprint">var chartReference = FusionCharts(&quot;myChartId&quot;); 
var chartJSON = chartReference.getJSONData();</pre>
<p class="text">See it <a href="../../Code/JavaScript/Basics/GettingDataBackFromChart/Get_JSON_data_from_a_chart_using_getJSONData.html" target="_blank">live</a>!</p>
      <p><strong><a name="getchartdatajson"></a>Get JSON data from a chart using getChartData() function </strong></p>
      <pre class="code_container prettyprint lang-js">var chartReference = FusionCharts(&quot;myChartId&quot;); 
var chartXML = chartReference.getChartData(&quot;json&quot;);</pre>
<p class="text">See it <a href="../../Code/JavaScript/Basics/GettingDataBackFromChart/Get_JSON_data_from_a_chart_using_getChartData.html" target="_blank">live</a>!</p>
    </td>
  </tr>
  
  <tr>
    <td valign="top" class="header"><a name="csv" id="csv"></a>Get CSV Data from chart</td>
  </tr>
  <tr>
    <td valign="top" class="text">
      <p>You can access data from the chart in CSV format. For this you need to call the API function - <span class="msg_handler"><a class="codeInline">getDataAsCSV()</a> &raquo; </span><span class="veryLightYellowBg msg_body"> This legacy function can be called either on <a href="JS_ChartInstance.html#html">FusionCharts HTML Object</a> or <a href="JS_ChartInstance.html#js">FusionCharts JavaScript Object</a>. </span></p>
      <p>Let us see a small sample which gets  CSV data from a Pyramid chart and displays it in a JavaScript alert box as shown in the image below: </p>
      <p><img src="Images/getCSVData.jpg" width="405" height="406" class="imageBorder" /></p>
      <pre class="code_container prettyprint">&lt;html&gt;
  &lt;head&gt; 	
    &lt;title&gt;Getting CSV data from chart&lt;/title&gt; 	
    &lt;script type=&quot;text/javascript&quot; src=&quot;Charts/FusionCharts.js<strong>&quot;</strong>&gt;
    &lt;/script&gt;
  &lt;/head&gt;   
  &lt;body&gt;     
    &lt;div id=&quot;chartContainer&quot;&gt;Chart will load here!&lt;/div&gt;          
    &lt;script type=&quot;text/javascript&quot;&gt;&lt;!-- 	

<strong>      </strong>var myChart = new FusionCharts( &quot;Charts/Pyramid.swf&quot;, &quot;myChartId&quot;, &quot;400&quot;, &quot;300&quot;, &quot;0&quot;, &quot;0&quot; );
      myChart.setXMLData(&quot;&lt;chart caption='Top 5 Sales Person' numberPrefix='$'  isSliced='1'&gt;&lt;set label='Alex' value='25000' /&gt;&lt;set label='Mark' value='35000' /&gt;&lt;set label='David' value='42300' /&gt;&lt;set label='Graham' value='65300' /&gt;&lt;set label='John' value='91300' /&gt;&lt;/chart&gt;&quot;);
      myChart.render(&quot;chartContainer&quot;);<strong>
</strong>      
    // --&gt;     
    &lt;/script&gt; 	   
    &lt;input onclick = &quot;alert(<strong>FusionCharts('myChartId').getDataAsCSV())</strong>&quot; type=&quot;button&quot; value=&quot;Get CSV Data from chart&quot;&gt;
  &lt;/body&gt; 
&lt;/html&gt;</pre>
					     <p>In the above code, we first create a Pyramid chart with DOM Id as <span class="codeInline">myChartId</span>. We provide the following data to the chart and ask it to render:</p>
					     <pre class="code_container prettyprint">&lt;chart<strong> </strong>caption='Top 5 Sales Person' numberPrefix='$'<strong> </strong>isSliced='1'&gt; 
     &lt;set label='Alex' value='25000'  /&gt; 
     &lt;set label='Mark' value='35000' /&gt; 
     &lt;set label='David' value='42300' /&gt; 
     &lt;set label='Graham' value='65300' /&gt; 
     &lt;set label='John' value='91300' /&gt;
  &lt;/chart&gt;</pre>
					     <p>Thereafter, we're creating a button, which when clicked, exports CSV data from the chart and shows in an alert box. We get the <a href="JS_ChartInstance.html#js">FusionCharts JavaScript Object</a> reference of the chart by <span class="codeInline">FusionCharts('myChartId')</span>. </p>
					     <pre  class="code_container prettyprint">onclick = &quot;alert(<strong>FusionCharts('myChartId').getDataAsCSV()</strong>)&quot;</pre>
						 <p class="text">See it <a href="../../Code/JavaScript/Basics/GettingDataBackFromChart/Get_CSV_Data_from_chart.html" target="_blank">live</a>!</p>
                         
					     <p class="highlightBlock">Note that the CSV data provides  only the data of the chart's dataplot devoid of all properties and trendline definitions.</p>
					     <p class="msg_handler_slider" style="margin-bottom:0;"><a>Click here to see other implementations of the same function on various object references</a> &raquo;<br />
      </p><pre class="code_container prettyprint msg_body">myChart.<strong>getDataAsCSV</strong>();
...
FusionCharts.getObjectReference(&quot;myChartId&quot;).<strong>getDataAsCSV</strong>();
...
FusionCharts.items[&quot;myChartId&quot;].<strong>getDataAsCSV</strong>();</pre>
          <p class="highlightBlock">You can customize the output format of CSV data by setting various chart attributes in XML or JSON data. You can set the value separator, value qualifier and whether to show formatted data values. Read <strong>Exporting Chart Data</strong> &gt; <a href="../ExportingData/ExportDataJS.html#format">Using JavaScript API</a> to know more on the attributes that configure CSV output format. </p>
    </td>
  </tr>
  <tr>
    <td valign="top" class="text">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" class="text">    </td>
  </tr>
  
  <tr>
    <td valign="top" class="header"><a name="getchartattribute"></a>Read chart attributes from chart </td>
  </tr>
  <tr>
    <td valign="top" class="text">
      <p>You can read a particular chart property (also known as &quot;chart attribute&quot; which is passed through the <span class="codeInline">&lt;chart&gt;</span> element in chart XML data or through <span class="codeInline">chart</span> property in chart's JSON data)&nbsp; from a chart using the <span class="msg_handler"><a>getChartAttribute() function</a> &raquo; </span><span class="veryLightYellowBg msg_body"> This legacy function can be called either using <a href="JS_ChartInstance.html#html">FusionCharts HTML Object</a> or <a href="JS_ChartInstance.html#js">FusionCharts JavaScript Object</a>.</span></p>
      <p>Let's build a sample which reads the caption of a chart and displays it in a JavaScript alert box as shown in the image below: </p>
      <p><img src="Images/getAttribute.jpg" width="408" height="368" class="imageBorder" /></p>
      <pre class="code_container prettyprint">&lt;html&gt;
  &lt;head&gt; 	
    &lt;title&gt;Getting CSV data from chart&lt;/title&gt; 	
    &lt;script type=&quot;text/javascript&quot; src=&quot;Charts/FusionCharts.js<strong>&quot;</strong>&gt;
    &lt;/script&gt;
  &lt;/head&gt;   
  &lt;body&gt;     
    &lt;div id=&quot;chartContainer&quot;&gt;Chart will load here!&lt;/div&gt;          
    &lt;script type=&quot;text/javascript&quot;&gt;&lt;!-- 	

<strong>      </strong>var myChart = new FusionCharts( &quot;Charts/Pyramid.swf&quot;, &quot;myChartId&quot;, &quot;400&quot;, &quot;300&quot;, &quot;0&quot;, &quot;1&quot; );
      myChart.setXMLData(&quot;&lt;chart <strong>caption='Top 5 Sales Person'</strong> numberPrefix='$'  isSliced='1'&gt;&lt;set label='Alex' value='25000' /&gt;&lt;set label='Mark' value='35000' /&gt;&lt;set label='David' value='42300' /&gt;&lt;set label='Graham' value='65300' /&gt;&lt;set label='John' value='91300' /&gt;&lt;/chart&gt;&quot;);
      myChart.render(&quot;chartContainer&quot;);<strong>
</strong>      
    // --&gt;     
    &lt;/script&gt; 	   
    &lt;input onclick = &quot;alert(FusionCharts('myChartId')<strong>.getChartAttribute('caption')</strong>)&quot; type=&quot;button&quot; value=&quot;Read caption from chart&quot;&gt;
  &lt;/body&gt; 
&lt;/html&gt;</pre>
<p class="text">See it <a href="../../Code/JavaScript/Basics/GettingDataBackFromChart/Read_chart_attributes_from_chart.html" target="_blank">live</a>!</p>
      
      <p>The above code does the following:</p>
      <ul>
        <li>It creates a chart with a caption - &quot;Top 5 Sales Person&quot;</li>
        <li> Creates an HTML button which when clicked calls the <span class="codeInline">getChartAttribute</span> function of the rendered chart </li>
        <li>It passes 'caption' as the parameter of this function </li>
      </ul>
      <p>When the button is clicked, the <span class="codeInline">getChartAttribute()</span> function retrieves the value of caption attribute i.e., &quot;Top 5 Sales Person&quot; from the chart and displays in an alert box. We get the <a href="JS_ChartInstance.html#js">FusionCharts JavaScript Object</a> reference of the chart by <span class="codeInline">FusionCharts('myChartId')</span>. </p>
      <p class="highlightBlock">To know more on the function <a href="API/Methods.html#getchartattribute"><span class="codeInline">getChartAttribute()</span></a> please read <strong>API Reference</strong>&gt; <a href="API/Methods.html">Functions</a> page. </p>
    </td>
  </tr>
  <tr>
     <td valign="top" class="header"><a name="rt" id="rt"></a>Retrieve data from real-time charts and gauges</td>
  </tr>
  <tr>
     <td valign="top" class="text">
        <p>You can retrieve the data updated in a real-time chart or gauge  using FusionCharts JavaScript Class. There are two available functions to achieve this - <span class="codeInline">getData</span> and <span class="codeInline">getDataForId</span>. </p>
        <p><span class="header"><a name="getdata" id="getdata"></a></span>The <span class="codeInline">getData</span> function <span class="codeInline"></span> works in all real-time charts and real-time gauges. Let us know discuss how this function works in various real-time charts and gauges.</p>
        <p><strong>In real-time charts  </strong>it provides the chart's current data in a JavaScript array. For more details on how this function works and to get a code sample using this function click <a href="../DataStreaming/JSGet.html">here</a>. </p>
        <p>Example usage:</p>
        <pre class="code_container prettyprint">var chartReference = FusionCharts(&quot;myChartId&quot;);
//Get the current view state data of chart (in array)
var arrData = chartReference.getData();</pre>
        <p><strong>In real-time gauges </strong>it provides the gauge's current value as a number.&nbsp; </p>
        <p class="highlightBlock">In Angular gauge and Horizontal Linear gauge, <span class="codeInline">getData</span> function requires the dial/pointer index to be passed as a parameter. </p>
        <p>Example usage in LED gauge (or Bulb, Cylinder and Thermometer ):</p>
        <pre class="code_container prettyprint">var chartReference = FusionCharts(&quot;myChartId&quot;);
//Get the current view state data 
var nData = chartReference.getData();</pre>
        <p>Example usage in Angular gauge (or Horizontal Linear gauge):</p>
        <pre class="code_container prettyprint">var chartReference = FusionCharts(&quot;myChartId&quot;);
//Get the current view state data of the <strong>first</strong> dial
var nData1 = chartReference.getData(<strong>1</strong>);

//Get the current view state data of the <strong>second</strong> dial
var nData2 = chartReference.getData(<strong>2</strong>);</pre>
        <p>&nbsp;</p>
        <p><span class="header"><a name="getdata" id="getdata"></a></span>The <span class="codeInline">getDataForId</span> function retrieves data from Angular gauge and Horizontal Linear gauge. This function is applicable when dials of Angular gauge or pointer of Horizontal Linear gauge are defined with IDs. </p>
        <p>Example usage:</p>
        <pre class="code_container prettyprint">var chartReference = FusionCharts(&quot;myChartId&quot;);
var data1 = chartReference.getDataForId(&quot;CPU1TEMP&quot;);</pre>
       
      </td>
  </tr>
  <tr>
     <td valign="top" class="text">&nbsp;</td>
  </tr>
</table>
<!-- footer links starts-->
<div id="fcfooter"></div>
<script type="text/javascript">
	document.getElementById("fcfooter").innerHTML =  addFCFooter("Changing chart properties|JS_ChangeChartProperties.html","Listening to events|JS_EventOverview.html");
</script>
<!-- footer links ends -->
<script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--

	highlightSearch();

//-->
</script>
</body>
</html>
