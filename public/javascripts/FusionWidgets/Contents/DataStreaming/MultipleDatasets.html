<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Data-streaming Charts - Adding multiple datasets</title>
<link rel="stylesheet" href="../assets/ui/css/style.css" type="text/css" />
<script type="text/javascript" src="../assets/prettify/prettify.js"></script>
<link rel="stylesheet" type="text/css" href="../assets/prettify/prettify.css" />
<script type="text/javascript" src="../assets/ui/js/jquery.min.js" ></script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }

a.whtbtnhide, a.whtbtnshow, a.whtbtnhidenav , a.whtbtnshownav { border-bottom:none !important; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../assets/ui/js/whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whtopic.js"></script>
<script type="text/javascript" src="../assets/ui/js/lib.js"></script>
</head>

<body>
<!-- breadcrumb starts here -->
<div id="breadcrumb"></div>
<script type="text/javascript">
	document.write( addFCBreadcrumb( [ "Home|../Introduction/Overview.html", "Data Streaming charts|Overview.html", "Adding multiple datasets" ] ) );
</script>
<!-- breadcrumb ends here -->
<table width="98%" border="0" cellspacing="0" cellpadding="3" align="center">
  <tr> 
    <td class="pageHeader">Adding multiple datasets</td>
  </tr>
  <tr> 
    <td valign="top" class="text"><p>All the data streaming charts can have any number of datasets in them. For example, in our previous example, we're monitoring the stock price of just Google. However, we can add any number of stocks to monitor. </p>      </td>
  </tr>
  
  <tr>
    <td valign="top" class="header"><a name="multiplestocks"></a>Monitoring multiple stocks </td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>In this example, we'll modify that example to compare 2 stocks - Google and Dell. For the sake of demo, we'll assume that the intra day price of Google stock fluctuates between $30 and $35 and that of Dell between $22 and $26.</p>
    <p>The first step in this process will be to modify our XML/JSON  and add another dataset to represent Dell. This will be done as under: </p></td>
  </tr>
  <tr>
    <td>
	<div class="container">
    <ul class="tabs">
       <li><a href="#tab1">XML</a></li>
       <li><a href="#tab2">JSON</a></li>
    </ul>
    <div class="tab_container">
       <div id="tab1" class="tab_content">
	<pre class="code_container prettyprint">&lt;chart caption=&quot;Stock Price Monitor&quot; subCaption=&quot;Google&quot; dataStreamURL=&quot;StockPriceGoogDell.asp&quot; refreshInterval=&quot;3&quot; numberPrefix=&quot;$&quot; setAdaptiveYMin=&quot;1&quot; xAxisName=&quot;Time&quot; showRealTimeValue=&quot;1&quot; labelDisplay=&quot;Rotate&quot; slantLabels=&quot;1&quot;&gt;<br />  &lt;categories/&gt;<br />  &lt;dataset seriesName=&quot;Google&quot; showValues=&quot;0&quot;/&gt;<br />  &lt;dataset seriesName=&quot;Dell&quot; showValues=&quot;0&quot;/&gt;<br />  &lt;styles&gt;<br />    &lt;definition&gt;<br />      &lt;style type=&quot;font&quot; name=&quot;captionFont&quot; size=&quot;14&quot;/&gt;<br />    &lt;/definition&gt;<br />    &lt;application&gt;<br />      &lt;apply toObject=&quot;Realtimevalue&quot; styles=&quot;captionFont&quot;/&gt;<br />    &lt;/application&gt;<br />  &lt;/styles&gt;<br />&lt;/chart&gt;</pre>
       </div>

<div id="tab2" class="tab_content">
  
  <pre id="pre-datajson" class="prettyprint code_container">{<br />  &quot;chart&quot;: {<br />    &quot;caption&quot;: &quot;Stock Price Monitor&quot;,<br />    &quot;subcaption&quot;: &quot;Google&quot;,<br />    &quot;datastreamurl&quot;: &quot;StockPriceGoogDell.asp&quot;,<br />    &quot;refreshinterval&quot;: &quot;3&quot;,<br />    &quot;numberprefix&quot;: &quot;$&quot;,<br />    &quot;setadaptiveymin&quot;: &quot;1&quot;,<br />    &quot;xaxisname&quot;: &quot;Time&quot;,<br />    &quot;showrealtimevalue&quot;: &quot;1&quot;,<br />    &quot;labeldisplay&quot;: &quot;Rotate&quot;,<br />    &quot;slantlabels&quot;: &quot;1&quot;<br />  },<br />  &quot;categories&quot;: [<br />    {}<br />  ],<br />  &quot;dataset&quot;: [<br />    {<br />      &quot;seriesname&quot;: &quot;Google&quot;,<br />      &quot;showvalues&quot;: &quot;0&quot;<br />    },<br />    {<br />      &quot;seriesname&quot;: &quot;Dell&quot;,<br />      &quot;showvalues&quot;: &quot;0&quot;<br />    }<br />  ],<br />  &quot;styles&quot;: {<br />    &quot;definition&quot;: [<br />      {<br />        &quot;type&quot;: &quot;font&quot;,<br />        &quot;name&quot;: &quot;captionFont&quot;,<br />        &quot;size&quot;: &quot;14&quot;<br />      }<br />    ],<br />    &quot;application&quot;: [<br />      {<br />        &quot;toobject&quot;: &quot;Realtimevalue&quot;,<br />        &quot;styles&quot;: &quot;captionFont&quot;<br />      }<br />    ]<br />  }<br />}</pre>
</div></div></div>
  <div style="clear:both"></div>

</td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>Here, we've made the following changes:</p>
      <ul>
        <li>Changed data provider page to <span class="codeInline">StockPriceGoogDell.asp</span>, as now we need to monitor two stocks and so the data output has to be in a different  format.</li>
        <li>Added another dataset representing Dell</li>
    </ul></td>
  </tr>
  <tr>
    <td valign="top" class="text">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" class="header"><a name="dataprovider" id="dataprovider"></a>Data provider page </td>
  </tr>
  <tr>
    <td valign="top" class="text">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" class="text"><span class="codeInline">StockPriceGoogDell.asp</span> now contains the following code: </td>
  </tr>
  <tr>
    <td valign="top" class="text">&nbsp;</td>
  </tr>
  <tr>
    <td><pre class="code_container prettyprint">&lt;%@ Language=VBScript %&gt;
&lt;%
	'This page is meant to output the Stock Price of Google in real-time data format. 
	'The data will be picked by FusionWidgets real-time line chart and plotted on chart.
	'You need to make sure that the output data doesn't contain any HTML tags or carriage returns.
	'For the sake of demo, we'll just be generating random values and returning them
	'In real life applications, you can get the data from web-service or your own data systems, convert it into real-time 
	data format and then return to the chart.
	'Set randomize timers on
	Randomize()
	Randomize Timer
	Dim lowerLimitGoog, upperLimitGoog
	Dim lowerLimitDell, upperLimitDell
	Dim googlePrice, dellPrice
	Dim dateTimeLabel
	lowerLimitGoog = 30
	upperLimitGoog = 35
	lowerLimitDell = 22
	upperLimitDell = 26
	'Generate random values - and round them to 2 decimal places
	googlePrice = Int(Rnd()*100*(upperLimitGoog-lowerLimitGoog))/100+lowerLimitGoog 
	dellPrice = Int(Rnd()*100*(upperLimitDell-lowerLimitDell))/100+lowerLimitDell
	'Get label for the data - time in format hh:mn:ss
	dateTimeLabel = Datepart(&quot;h&quot;,Now()) &amp; &quot;:&quot; &amp; Datepart(&quot;n&quot;,Now()) &amp; &quot;:&quot; &amp; Datepart(&quot;s&quot;,Now())
	'Now write it to output stream
	Response.Write(&quot;&amp;label=&quot;&amp; dateTimeLabel &amp; &quot;&amp;value=&quot; &amp; googlePrice &amp; &quot;|&quot; &amp; dellPrice)
%&gt;</pre></td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>As you can see, we've modified the code to output data for both Google and Dell in a format as under:</p>
    <pre class="code_container prettyprint">&amp;label=19:26:56&amp;value=30.63|22.19</pre>
    <p>Here, we've a common label, but two values separated by | (pipe character). The value 30.63 belongs to Google (as Google is the first <span class="codeInline">dataset</span> defined in XML/JSON file), while the value and 22.19 belongs to Dell (as it's the second <span class="codeInline">dataset</span> defined in XML/JSON). The order of values here should correspond with order of <span class="codeInline">&lt;dataset&gt;</span> element in XML/JSON. </p>
    <p>When you now view the chart, you'll get a blank canvas as under: </p></td>
  </tr>
  <tr>
    <td valign="top" class="text"><img src="Images/DSC_MDS1.jpg" width="492" height="342" class="imageBorder" /></td>
  </tr>
  <tr>
    <td valign="top" class="text">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" class="text">After some time, when data is populated, it will look as under: </td>
  </tr>
  <tr>
    <td valign="top" class="text">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" class="text"><img src="Images/DSC_MDS2.jpg" width="492" height="344" class="imageBorder" /></td>
  </tr>
  <tr>
    <td valign="top" class="text">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" class="header"><a name="interactivelegend"></a>Interactive legend </td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>FusionWidgets data streaming charts offer interactive legend - that allows you to show or hide any dataset on the chart. Interactive legend comes handy when you have multiple datasets and you want to focus on a particular dataset. To hide a particular dataset you can click on the respective data series name in legend and it will not be displayed on the chart. When clicked again, it will be visible. </p>
      <p>Shown below  is a screenshot where we've hidden the dataset indicating Dell's price by clicking on the legend item. Also note that after clicking, the legend key of Dell becomes hollow: </p></td>
  </tr>
  <tr>
    <td valign="top" class="text"><img src="Images/DSC_MDS3.jpg" width="493" height="345" class="imageBorder" /></td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>Even when a dataset is not visible, it will continue updating itself in the background from the real-time data. Also, all alert managers associated with the dataset will continue to work. </p>
    <p>If you do not need interactive legend, you can set it off using:</p></td></tr>
     <tr>
    <td valign="top">
	<div class="container">
    <ul class="tabs">
       <li><a href="#tab3">XML</a></li>
       <li><a href="#tab4">JSON</a></li>
    </ul>
    <div class="tab_container">
       <div id="tab3" class="tab_content">
	<pre class="code_container prettyprint">&lt;chart interactiveLegend='0' ..&gt;</pre></div>
	<div id="tab4" class="tab_content">
  
  <pre id="pre-datajson" class="prettyprint code_container">{

&quot;chart&quot;: {
...
&quot;interactiveLegend&quot;: &quot;0&quot;		
         },
}</pre>
	</div></div></div></td></tr>
	
  
</table>
<!-- footer links starts-->
<div id="fcfooter"></div>
<script type="text/javascript">
	document.getElementById("fcfooter").innerHTML =  addFCFooter("Creating a simple example|Example.html","Pushing multiple updates|MultipleUpdates.html");
</script>
<!-- footer links ends -->
<script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--

	highlightSearch();

//-->
</script>
</body>
</html>
