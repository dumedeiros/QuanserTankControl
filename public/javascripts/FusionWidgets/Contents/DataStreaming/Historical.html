<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Data-streaming Charts - Adding historical data</title>
<link rel="stylesheet" href="../assets/ui/css/style.css" type="text/css" />
<script type="text/javascript" src="../assets/prettify/prettify.js"></script>
<link rel="stylesheet" type="text/css" href="../assets/prettify/prettify.css" />
<script type="text/javascript" src="../assets/ui/js/jquery.min.js" ></script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }

a.whtbtnhide, a.whtbtnshow, a.whtbtnhidenav , a.whtbtnshownav { border-bottom:none !important; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../assets/ui/js/whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whtopic.js"></script>
<script type="text/javascript" src="../assets/ui/js/lib.js"></script>
</head>

<body>
<!-- breadcrumb starts here -->
<div id="breadcrumb"></div>
<script type="text/javascript">
	document.write( addFCBreadcrumb( [ "Home|../Introduction/Overview.html", "Data Streaming charts|Overview.html", "Adding historical data" ] ) );
</script>
<!-- breadcrumb ends here -->
<table width="98%" border="0" cellspacing="0" cellpadding="3" align="center">
  <tr> 
    <td class="pageHeader">Adding historical data </td>
  </tr>
  <tr> 
    <td valign="top" class="text"><p>In our previous examples, we had always started the chart with blank canvas (no data) and had it update itself over a span of time. However, if you want  the chart to initially show historical data and then keep on updating itself, you can easily do so by specifying the historical data in XML/JSON data. </p>    </td>
  </tr>
 
  <tr>
    <td valign="top" class="header"><a name="historicaldata"></a>Specifying historical data</td>
  </tr>
   <tr>
    <td valign="top" class="text">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" class="text">The following XML shows how to push historical data in XML/JSON file:  </td>
  </tr>
   <tr>
    <td valign="top" class="text">&nbsp;</td>
  </tr>
  <tr>
    <td>
	<div class="container">
    <ul class="tabs">
       <li><a href="#tab1">XML</a></li>
       <li><a href="#tab2">JSON</a></li>
    </ul>
    <div class="tab_container">
       <div id="tab1" class="tab_content">
	<pre class="code_container prettyprint">&lt;chart caption=&quot;Stock Price Monitor&quot; subCaption=&quot;Google vs Dell&quot; dataStreamURL=&quot;StockPriceGoogDell.asp&quot; refreshInterval=&quot;2&quot; numberPrefix=&quot;$&quot; setAdaptiveYMin=&quot;1&quot; xAxisName=&quot;Time&quot; showRealTimeValue=&quot;1&quot; labelDisplay=&quot;Rotate&quot; slantLabels=&quot;1&quot; canvasLeftMargin=&quot;50&quot;&gt;<br />  &lt;categories&gt;<br />    &lt;category label=&quot;6 mins ago&quot;/&gt;<br />    &lt;category label=&quot;5 mins ago&quot;/&gt;<br />    &lt;category label=&quot;4 mins ago&quot;/&gt;<br />    &lt;category label=&quot;3 mins ago&quot;/&gt;<br />    &lt;category label=&quot;2 mins ago&quot;/&gt;<br />    &lt;category label=&quot;1 min ago&quot;/&gt;<br />  &lt;/categories&gt;<br />  &lt;dataset seriesName=&quot;Google&quot; showValues=&quot;0&quot;&gt;<br />    &lt;set value=&quot;32.34&quot;/&gt;<br />    &lt;set value=&quot;34.35&quot;/&gt;<br />    &lt;set value=&quot;31.25&quot;/&gt;<br />    &lt;set value=&quot;33.23&quot;/&gt;<br />    &lt;set value=&quot;31.34&quot;/&gt;<br />    &lt;set value=&quot;33.76&quot;/&gt;<br />  &lt;/dataset&gt;<br />  &lt;dataset seriesName=&quot;Dell&quot; showValues=&quot;0&quot;&gt;<br />    &lt;set value=&quot;22.34&quot;/&gt;<br />    &lt;set value=&quot;22.34&quot;/&gt;<br />    &lt;set value=&quot;24.75&quot;/&gt;<br />    &lt;set value=&quot;23.34&quot;/&gt;<br />    &lt;set value=&quot;21.23&quot;/&gt;<br />    &lt;set value=&quot;23.65&quot;/&gt;<br />  &lt;/dataset&gt;<br />  &lt;styles&gt;<br />    &lt;definition&gt;<br />      &lt;style type=&quot;font&quot; name=&quot;captionFont&quot; size=&quot;14&quot;/&gt;<br />    &lt;/definition&gt;<br />    &lt;application&gt;<br />      &lt;apply toObject=&quot;Realtimevalue&quot; styles=&quot;captionFont&quot;/&gt;<br />    &lt;/application&gt;<br />  &lt;/styles&gt;<br />&lt;/chart&gt;</pre>
       </div>
<div id="tab2" class="tab_content">
  
  <pre id="pre-datajson" class="prettyprint code_container">{<br />  &quot;chart&quot;: {<br />    &quot;caption&quot;: &quot;Stock Price Monitor&quot;,<br />    &quot;subcaption&quot;: &quot;Google vs Dell&quot;,<br />    &quot;datastreamurl&quot;: &quot;StockPriceGoogDell.asp&quot;,<br />    &quot;refreshinterval&quot;: &quot;2&quot;,<br />    &quot;numberprefix&quot;: &quot;$&quot;,<br />    &quot;setadaptiveymin&quot;: &quot;1&quot;,<br />    &quot;xaxisname&quot;: &quot;Time&quot;,<br />    &quot;showrealtimevalue&quot;: &quot;1&quot;,<br />    &quot;labeldisplay&quot;: &quot;Rotate&quot;,<br />    &quot;slantlabels&quot;: &quot;1&quot;,
    &quot;canvasLeftMargin&quot;: &quot;50&quot;<br />  },<br />  &quot;categories&quot;: [<br />    {<br />      &quot;category&quot;: [<br />        {<br />          &quot;label&quot;: &quot;6 mins ago&quot;<br />        },<br />        {<br />          &quot;label&quot;: &quot;5 mins ago&quot;<br />        },<br />        {<br />          &quot;label&quot;: &quot;4 mins ago&quot;<br />        },<br />        {<br />          &quot;label&quot;: &quot;3 mins ago&quot;<br />        },<br />        {<br />          &quot;label&quot;: &quot;2 mins ago&quot;<br />        },<br />        {<br />          &quot;label&quot;: &quot;1 min ago&quot;<br />        }<br />      ]<br />    }<br />  ],<br />  &quot;dataset&quot;: [<br />    {<br />      &quot;seriesname&quot;: &quot;Google&quot;,<br />      &quot;showvalues&quot;: &quot;0&quot;,<br />      &quot;data&quot;: [<br />        {<br />          &quot;value&quot;: &quot;32.34&quot;<br />        },<br />        {<br />          &quot;value&quot;: &quot;34.35&quot;<br />        },<br />        {<br />          &quot;value&quot;: &quot;31.25&quot;<br />        },<br />        {<br />          &quot;value&quot;: &quot;33.23&quot;<br />        },<br />        {<br />          &quot;value&quot;: &quot;31.34&quot;<br />        },<br />        {<br />          &quot;value&quot;: &quot;33.76&quot;<br />        }<br />      ]<br />    },<br />    {<br />      &quot;seriesname&quot;: &quot;Dell&quot;,<br />      &quot;showvalues&quot;: &quot;0&quot;,<br />      &quot;data&quot;: [<br />        {<br />          &quot;value&quot;: &quot;22.34&quot;<br />        },<br />        {<br />          &quot;value&quot;: &quot;22.34&quot;<br />        },<br />        {<br />          &quot;value&quot;: &quot;24.75&quot;<br />        },<br />        {<br />          &quot;value&quot;: &quot;23.34&quot;<br />        },<br />        {<br />          &quot;value&quot;: &quot;21.23&quot;<br />        },<br />        {<br />          &quot;value&quot;: &quot;23.65&quot;<br />        }<br />      ]<br />    }<br />  ],<br />  &quot;styles&quot;: {<br />    &quot;definition&quot;: [<br />      {<br />        &quot;type&quot;: &quot;font&quot;,<br />        &quot;name&quot;: &quot;captionFont&quot;,<br />        &quot;size&quot;: &quot;14&quot;<br />      }<br />    ],<br />    &quot;application&quot;: [<br />      {<br />        &quot;toobject&quot;: &quot;Realtimevalue&quot;,<br />        &quot;styles&quot;: &quot;captionFont&quot;<br />      }<br />    ]<br />  }<br />}</pre>
</div></div></div>
  <div style="clear:both"></div>

</td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>As you can see above, we've:</p>
      <ul>
        <li>Added <span class="codeInline">&lt;category&gt;</span> element to create the historical x-axis labels</li>
        <li>Within each dataset, we've created an equal number of <span class="codeInline">&lt;set&gt;</span> element - equal to number of <span class="codeInline">&lt;category&gt;</span> element. Each <span class="codeInline">&lt;set&gt;</span> element within <span class="codeInline">&lt;dataset&gt;</span> element represents one data point for that dataset. </li>
        
      </ul>
    <p>When you now see the chart, you'll get something as under: </p></td>
  </tr>
  <tr>
    <td valign="top" class="text"><img src="Images/DSC_Historical1.jpg" width="496" height="344" class="imageBorder" /></td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>Shown above is the chart when it initializes. You can see historical data being shown. </p>    </td>
  </tr>
  <tr>
    <td valign="top" class="text"><img src="Images/DSC_Historical2.jpg" width="495" height="346" class="imageBorder" /></td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>And the same chart after a few updates.</p></td>
  </tr>
  
  <tr>
    <td valign="top" class="header"><a name="number"></a>Increasing the number of points displayed on chart </td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>As you can see,  the chart now shows only 6 points in the chart. This is because when you specify historical data and do not specify <span class="codeInline">numDisplaySets</span> attribute, the chart shows only that many number of data points as specified in historical data.</p>
    <p>If you need to increase the number of points, you'll need to set it as under:</p></td></tr>
    <tr>
    <td valign="top">
	<div class="container">
    <ul class="tabs">
       <li><a href="#tab3">XML</a></li>
       <li><a href="#tab4">JSON</a></li>
    </ul>
    <div class="tab_container">
       <div id="tab3" class="tab_content">
	<pre class="code_container prettyprint">&lt;chart ... numDisplaySets='20' ..&gt;</pre></div>
	<div id="tab4" class="tab_content">
  
  <pre id="pre-datajson" class="prettyprint code_container">{
  "chart":{
  ...
  "numDisplaySets": "20"
  },
  }</pre></div></div></div></td></tr>
  <tr>
  <td class="text">
    <p>This will enable the chart to show 20 data points for each dataset, as shown under:   </p></td>
  </tr>
  <tr>
    <td valign="top" class="text"><img src="Images/DSC_Historical3.jpg" width="493" height="344" class="imageBorder" /></td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>The space on left will be filled as and when chart receives more incremental data. </p>
    <p>Also, now, in this case if you've more than 20 historical data, the chart will show only the last 20 and ignore the others. </p></td>
  </tr>
</table>
<!-- footer links starts-->
<div id="fcfooter"></div>
<script type="text/javascript">
	document.getElementById("fcfooter").innerHTML =  addFCFooter("Pushing multiple updates|MultipleUpdates.html","Setting different intervals|Intervals.html");
</script>
<!-- footer links ends -->
<script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--

	highlightSearch();

//-->
</script>
</body>
</html>
