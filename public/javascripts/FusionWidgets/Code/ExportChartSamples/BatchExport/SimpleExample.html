<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>FusionWidgets Client-side Export Sample</title>
<link href="../../assets/ui/css/style.css" rel="stylesheet" type="text/css" />
        <script type="text/javascript" language="Javascript" src="../../../Charts/FusionCharts.js"></script>
        <script type="text/javascript" language="JavaScript" src="../../../Charts/FusionChartsExportComponent.js"></script>
		<script type="text/javascript" language="Javascript" src="../../assets/ui/js/jquery.min.js"></script>
		<script type="text/javascript" language="Javascript" src="../../assets/ui/js/lib.js"></script>
        <!--[if IE 6]>
        <script src="../../assets/ui/js/DD_belatedPNG_0.0.8a-min.js"></script>
        <script>
          /* select the element name, css selector, background etc */
          DD_belatedPNG.fix('img');

          /* string argument can be any CSS selector */
        </script>
        <![endif]-->
        

        <script type="text/javascript"><!--
            //Define a function, which will be invoked when user clicks the batch-export-initiate button
            function initiateExport(){
                myExportComponent.BeginExport();
            }
            //-->
        </script>

        <style type="text/css">
            h2.headline {
                font: normal 110%/137.5% "Trebuchet MS", Arial, Helvetica, sans-serif;
                padding: 0;
                margin: 25px 0 25px 0;
                color: #7d7c8b;
                text-align: center;
            }
            p.small {
                font: normal 68.75%/150% Verdana, Geneva, sans-serif;
                color: #919191;
                padding: 0;
                margin: 0 auto;
                width: 664px;
                text-align: center;
            }
        </style>
        
    </head>
<script type="text/javascript">	
	//Define a function, which will be invoked when user clicks the batch-export-initiate button
	function initiateExport(){
		myExportComponent.BeginExport();
	}
  </script>

<body bgcolor="#ffffff">
 <!-- wrapper -->
        <div id="wrapper">
            <!-- header -->
            <div id="header"> 
                <div class="logo"><a class="imagelink"  href="http://www.fusioncharts.com/widgets" target="_blank"><img src="../../assets/ui/images/fwxt-logo.png" width="73" height="74" alt="FusionWidgets XT logo" />
                    </a>
                </div>
				<h1 class="brand-name">FusionWidgets XT</h1>
                <h1 class="logo-text">Client-side Export Demo</h1>
                
            </div>
            <!-- content area -->
            <div class="content-area">
                <div id="content-area-inner-main">
                    <p class="text" align="center" >Right click on individual chart to export or click 'Begin batch export' button to export all charts. To save the exported charts, use the export-component placed at bottom-right. </p>
					<div id="messageBox" style="margin-left:100px; margin-right:100px; display:none;"></div>
					<p>&nbsp;</p>


                    <div class="clear"></div>
                    <div class="gen-chart-render">

<table align='center'>
<tr>
  <td valign="top"><div id="chartdiv" align="center">The chart will appear within this DIV. This text will be replaced by the chart.</div>
              <script type="text/javascript"><!--
					var SimpleExample ='<chart caption="Top 5 Sales Person" numberPrefix="$" exportEnabled="1" exportAtClient="1" exportHandler="fcBatchExporter" isSliced="1" showBorder="0" bgColor="FFFFFF,FFFFFF">\n\
						<set label="Alex" value="25000"  /> \n\
						<set label="Mark" value="35000" /> \n\
						<set label="David" value="42300" /> \n\
						<set label="Graham" value="65300" /> \n\
						<set label="John" value="91300" /> \n\
					</chart>';
					
					
				var myChart = new FusionCharts("../../../Charts/Pyramid.swf", "myChartId1", "350", "270", "0", "1");
				myChart.setXMLData(SimpleExample);
				myChart.render("chartdiv");
				// -->
		   </script>
           
			 <div id="chartContainerProfit" align="center">The chart will appear within this DIV. This text will be replaced by the chart.</div>
              <script type="text/javascript"><!--
					var myChart3 = new FusionCharts("../../../Charts/HBullet.swf", "myChartId3", "350", "90", "0", "0");

					myChart3.setXMLData('<chart exportEnabled="1" exportAtClient="1" exportHandler="fcBatchExporter" palette="1" lowerLimit="0" upperLimit="100" caption="Profit" subCaption="per sale" roundRadius="5" numberPrefix="$" showValue="1">\n\
						<colorRange>\n\
						<color minValue="0" maxValue="30" />\n\
						<color minValue="30" maxValue="50" />\n\
						<color minValue="50" maxValue="70" />\n\
						<color minValue="70" maxValue="85" />\n\
						<color1 minValue="85" maxValue="100" />\n\
						</colorRange>\n\
						<value>78.9</value>\n\
						<target>84</target>\n\
						</chart>'); 
				   myChart3.render("chartContainerProfit");
							
				 // -->
			</script>
                         
                                    
           </td>
<td><p align="center" style="color:#111; margin-bottom:5px;">Customer Satisfaction index </p>
            <div id="chartContainerCustSatisfaction" align="center" style="margin-bottom:10px;">The chart will appear within this DIV. This text will be replaced by the chart.</div>
              <script type="text/javascript"><!--
				 var myChart4 = new FusionCharts("../../../Charts/AngularGauge.swf", "myChartId4", "350", "228", "0", "0");
	 
				 myChart4.setXMLData('<chart exportEnabled="1" exportAtClient="1" exportHandler="fcBatchExporter" lowerLimit="0" upperLimit="100" lowerLimitDisplay="Bad" upperLimitDisplay="Good" numberSuffix="%" showValue="1" showBorder="0" bgColor="FFFFFF,FFFFFF" >\n\
					<colorRange>\n\
					<color minValue="0" maxValue="75" code="FF654F"/>\n\
					<color minValue="75" maxValue="90" code="F6BD0F"/>\n\
					<color minValue="90" maxValue="100" code="8BBA00"/>\n\
					</colorRange>\n\
					<dials>\n\
					<dial value="92" />\n\
					</dials>\n\
					</chart>');
		
					myChart4.render("chartContainerCustSatisfaction");
            
            // -->
                         </script>
            <div id="chartContainerDownload" align="center" style="margin-bottom:10px;">The chart will appear within this DIV. This text will be replaced by the chart.</div>
              <script type="text/javascript"><!--
	                           var myChart2 = new FusionCharts("../../../Charts/HLinearGauge.swf", "myChartId2", "350", "90", "0", "0");
               
							   myChart2.setXMLData('<chart exportEnabled="1" exportAtClient="1" exportHandler="fcBatchExporter" bgColor="FFFFFF" lowerLimit="0" upperLimit="30" gaugeRoundRadius="5" showGaugeBorder="1" numberPrefix="$">\n\
								<colorRange>\n\
								<color minValue="0" maxValue="30" name="Cost Per Download"  />\n\
								</colorRange>\n\
								<pointers>\n\
								<pointer value="17.9" borderColor="000000" borderThickness="0" bgColor="FF5904" toolText="My own" />\n\
								</pointers>\n\
								</chart>');
							   myChart2.render("chartContainerDownload");
                         // -->
                         </script>
             </td>
</tr>
<tr>
  <td>&nbsp;</td>
  <td align='center'>
  	<input type='button' onClick="javascript:initiateExport();" value="Begin batch export" />
	<br /><br />
  	<!-- We also create a DIV to contain the FusionWidgets batch exporter component -->
    <div id="fcexpDiv" align="center">FusionCharts Export Handler Component</div>
	<script type="text/javascript">
	//Initialize Batch Exporter with DOM Id as fcBatchExporter
    var myExportComponent = new FusionChartsExportObject("fcBatchExporter", "../../../Charts/FCExporter.swf");
	
	//Add the charts to queue. The charts are referred to by their DOM Id.
	myExportComponent.sourceCharts = ['myChartId1','myChartId2','myChartId3', 'myChartId4'];
	
	//------ Export Component Attributes ------//
	//Set the mode as full mode
	myExportComponent.componentAttributes.fullMode='1';
	//Set saving mode as both. This allows users to download individual charts/ as well as download all charts as a single file.
	myExportComponent.componentAttributes.saveMode='both';
	//Show allowed export format drop-down
	myExportComponent.componentAttributes.showAllowedTypes = '1';
	//Cosmetics	
	//Width and height
	myExportComponent.componentAttributes.width = '350';
	myExportComponent.componentAttributes.height = '200';
	//Message - caption of export component
	myExportComponent.componentAttributes.showMessage = '1';
	myExportComponent.componentAttributes.message = 'Click on button above to begin export of charts. Then save from here.';
	//Render the exporter SWF in our DIV fcexpDiv
    myExportComponent.Render("fcexpDiv");	
  </script>
  </td>
</tr>
</table>
 <div class="underline-dull"></div>
<div id="footer">
                <p class="highlightBlock">The above sample showcases Batch exporting. Click <a href="../../../Contents/Index.html?ExportingImage/Batch/ECBatchOverview.html" target="_blank">here</a> to know more on how the code of this example works.</p>
            </div>
        </div>
</div></div></div>
  <div id="footer"></div>


	<script type="text/javascript"><!--//
        $(document).ready ( function() {
            
            if(isJSRenderer(myChart))
            {
                $("#initExportBtn").hide();
                $("#fcexpDiv").hide();
				$("input:button").hide();
                
                
            }
           showConditionalMessage( "Your browser does not seem to have Flash Player support. JavaScript charts are rendered instead.<br/><br/><strong>Note :</strong><br />JavaScript charts do not support client-side export or  batch export. However, you can click the export button at the top-right corner of each JavaScript chart to perform server-side export and get the downloadable exported file.", isJSRenderer(myChart) );
        });	
    // -->
    </script>

</body>
</html>
