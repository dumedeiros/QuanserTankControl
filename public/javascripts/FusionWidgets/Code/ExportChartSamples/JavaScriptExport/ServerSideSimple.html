<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>
	FusionWidgets Server-side Export Sample Using JavaScript
	</title>
	<link href="../../assets/ui/css/style.css" rel="stylesheet" type="text/css" />
        <script type="text/javascript" language="Javascript" SRC="../../../Charts/FusionCharts.js"></script>
        <script type="text/javascript" language="JavaScript" src="../../../Charts/FusionChartsExportComponent.js"></script>
		<script type="text/javascript" language="Javascript" SRC="../../assets/ui/js/jquery.min.js"></script>
		<script type="text/javascript" language="Javascript" SRC="../../assets/ui/js/lib.js"></script>
        <!--[if IE 6]>
        <script src="../../assets/ui/js/DD_belatedPNG_0.0.8a-min.js"></script>
        <script>
          /* select the element name, css selector, background etc */
          DD_belatedPNG.fix('img');

          /* string argument can be any CSS selector */
        </script>
        <![endif]-->
        

        <script type="text/javascript"><!--
            function startExport(){
                //Get reference to chart.
                var chart = getChartFromId("myChartId");
                //Now, we proceed with exporting only if chart has finished rendering.
                //We do not check rendering of export component, as FusionWidgets Export Object JS
                //has a built-in queue that stacks up the export request until the component is ready.
                if (chart.hasRendered()==true){
                    chart.exportChart();
                }else{
                    alert("Please wait for the chart to finish rendering, before you can invoke exporting");
                }
            }
            //-->
        </script>

        <style type="text/css">
            h2.headline {
                font: normal 110%/137.5% "Trebuchet MS", Arial, Helvetica, sans-serif;
                padding: 0;
                margin: 25px 0 25px 0;
                color: #7d7c8b;
                text-align: center;
            }
            p.small {
                font: normal 68.75%/150% Verdana, Geneva, sans-serif;
                color: #919191;
                padding: 0;
                margin: 0 auto;
                width: 664px;
                text-align: center;
            }
        </style>
        
    </head>
<body bgcolor="#ffffff">
<!-- wrapper -->
        <div id="wrapper">
            <!-- header -->
            <div id="header"> 
                <div class="logo"><a class="imagelink"  href="http://www.fusioncharts.com/widgets" target="_blank"><img src="../../assets/ui/images/fwxt-logo.png" width="73" height="74" alt="FusionWidgets XT logo" />
                    </a>
                </div>
				<h1 class="brand-name">FusionWidgets XT</h1>
                <h1 class="logo-text">Server-side Export using JavaScript</h1>
                
            </div>
            <!-- content area -->
            <div class="content-area">
                <div id="content-area-inner-main">
                    <p class="text" align="center" >Server-side Export using JavaScript </p>
					<div id="messageBox" style="margin-left:100px; margin-right:100px; display:none;"></div>
					<p>&nbsp;</p>


                    <div class="clear"></div>
                    <div class="gen-chart-render">
<div id="chartContainer" align="center">The chart will appear within this DIV. This text will be replaced by the chart.</div>
   <script type="text/javascript"><!--
							var SimpleExample ='<chart caption="Top 5 Sales Person" numberPrefix="$" exportEnabled="1" exportAtClient="0" exportAction="download" exportHandler="http://www.fusioncharts.com/ExportHandlers/PHP/FCExporter.php" exportFileName="MyFileName" isSliced="1" showBorder="0" bgColor="FFFFFF,FFFFFF">\n\
								<set label="Alex" value="25000"  /> \n\
								<set label="Mark" value="35000" /> \n\
								<set label="David" value="42300" /> \n\
								<set label="Graham" value="65300" /> \n\
								<set label="John" value="91300" /> \n\
							</chart>';

                            //Create the chart.
                            //Note that you necessarily need to set the registerWithJS attribute as 1, as JavaScript is used for client-
                            //side communication between the chart and FusionWidgets Exporter Component.
                            var myChart = new FusionCharts("../../../Charts/Pyramid.swf", "myChartId", "400", "350", "0", "1");
                            myChart.setXMLData(SimpleExample);
                            myChart.render("chartContainer");
   </script>

<br/>
<center><input type='button' value='Begin Chart Export' onClick="javascript:startExport();" />
</center>
<p>&nbsp;</p>
<div class="underline-dull"></div>
</div></div></div></div>
<script type="text/javascript"><!--//
			$(document).ready ( function() {
			   showConditionalMessage( "Your browser does not seem to have Flash Player support. JavaScript chart is rendered instead.", isJSRenderer(myChart) );
			});	
		// -->
		</script>
</body>
</html>
